# Rampa Cash API Environment Configuration
# Copy this file to .env and update the values for your environment

# Node.js Configuration
NODE_ENV=development
PORT=3001

# Database Configuration
# For local development (Docker)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=rampa_user
POSTGRES_PASSWORD=rampa_password
POSTGRES_DB=rampa_cash_dev
POSTGRES_DATABASE=rampa_cash_dev
DATABASE_URL=postgresql://rampa_user:rampa_password@postgres:5432/rampa_cash_dev

# Database Connection Pooling Configuration
# Connection pool settings for optimal performance
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# Database Timeout Configuration
DB_CONNECTION_TIMEOUT=5000
DB_QUERY_TIMEOUT=30000
DB_STATEMENT_TIMEOUT=30000

# Database Retry Configuration
DB_RETRY_ATTEMPTS=3
DB_RETRY_DELAY=1000

# Development Configuration
DEBUG=rampa:*
LOG_LEVEL=debug

# API Configuration
API_VERSION=v1
CORS_ORIGIN=http://localhost:3000

# Web3Auth Configuration
WEB3AUTH_ISSUER=https://api-auth.web3auth.io
WEB3AUTH_JWKS_URI=https://api-auth.web3auth.io/jwks

# Custom JWT (for Web3Auth Node SDK - Backend Signing)
# Issuer & Audience for Custom JWT idTokens
WEB3AUTH_CUSTOM_ISSUER=https://auth.rampa.local
WEB3AUTH_CUSTOM_AUDIENCE=urn:rampa-web3auth

# Algorithm & Key Identifiers
# Supported algs: RS256 or ES256
WEB3AUTH_CUSTOM_JWT_ALG=RS256
WEB3AUTH_CUSTOM_JWT_KID=key-v1

# Keys (PEM format)
# Public key must be SPKI (begin with -----BEGIN PUBLIC KEY-----)
# Private key must be PKCS8 (begin with -----BEGIN PRIVATE KEY-----)
# For local dev, you can inline with \n escapes or load via your secret manager
WEB3AUTH_CUSTOM_JWT_PUBLIC_KEY_PEM=
WEB3AUTH_CUSTOM_JWT_PRIVATE_KEY_PEM=

# Token TTL (seconds) for idTokens minted by the backend
WEB3AUTH_CUSTOM_JWT_TTL=300

# JWKS cache control (seconds)
JWKS_CACHE_TTL=300

# Optional: Previous key for rotation (served alongside current in JWKS)
WEB3AUTH_CUSTOM_JWT_PREV_KID=
WEB3AUTH_CUSTOM_JWT_PREV_PUBLIC_KEY_PEM=

# JWT Configuration
JWT_SECRET=your_jwt_secret_here
JWT_EXPIRES_IN=3600s

# Solana Configuration
# Choose your network: mainnet-beta, devnet, or testnet
SOLANA_NETWORK=devnet
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_COMMITMENT=confirmed
SOLANA_MAX_RETRIES=3
SOLANA_RETRY_DELAY=1000
SOLANA_TIMEOUT=30000

# Token Mint Addresses (Environment-specific)
# These addresses change based on the network you're using

# DEVNET Configuration (Default for development)
SOLANA_USDC_MINT=4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU
SOLANA_EURC_MINT=HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr

# MAINNET Configuration (For production)
# SOLANA_NETWORK=mainnet-beta
# SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
# SOLANA_USDC_MINT=EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
# SOLANA_EURC_MINT=EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp

# TESTNET Configuration (For testing)
# SOLANA_NETWORK=testnet
# SOLANA_RPC_URL=https://api.testnet.solana.com
# SOLANA_USDC_MINT=<testnet_usdc_mint_address>
# SOLANA_EURC_MINT=<testnet_eurc_mint_address>

# Optional: Add your own API keys and secrets here
# API_KEY=your_api_key_here